(()=>{"use strict";const t=t=>{localStorage.setItem("theme",t),document.documentElement.className=t},e=document.querySelector(".main__container"),i=document.querySelector("[data-audio-buttons]"),a=document.querySelector("[data-play]"),o=document.querySelector("[data-download]"),s=document.querySelector(".theme"),d=new class{constructor(t,e,i,a){this.startButton=t,this.downloadButton=e,this.audioList=i,this.audio=new Audio,this.audiosCurrent=i[0],this.previewImage=a,this.isPlaying=!1,this.target=document.querySelector('[data-audio="0"]')}initializeAudio(t){t?t!==this.target&&(this.target=t,this.audiosCurrent=this.audioList[+t.dataset.audio],((t,e)=>{const i=document.querySelector(`.${e}`);t.classList.add(e),i&&i.classList.remove(e)})(t,"button__audio--active"),this.audioStart()):this.isPlaying?this.audioStop():this.audioStart()}audioStart(){this.isPlaying=!0,this.audio.src=`./assets/audio/${this.audiosCurrent}.mp3`,this.changePreviewImage(),this.initializeAudioDownload(),this.audio.play(),this.startButton.classList.add("button__control--played"),this.audio.currentTime=0}audioStop(){this.isPlaying=!1,this.audio.pause(),this.startButton.classList.remove("button__control--played")}changePreviewImage(){this.previewImage.style.backgroundImage=`url(./assets/img/${this.audiosCurrent}.jpg)`}initializeAudioDownload(){this.downloadButton.href=`./assets/audio/${this.audiosCurrent}.mp3`,this.downloadButton.title=`Download ${this.audiosCurrent}`,this.downloadButton.download=`${this.audiosCurrent}`}}(a,o,["drozd","forest","javoronok","slavka","solovey","zarynka"],e);a.addEventListener("click",(()=>d.initializeAudio())),i.addEventListener("click",(t=>{t.preventDefault(),t.target.dataset.audio&&d.initializeAudio(t.target)})),document.addEventListener("DOMContentLoaded",(()=>(()=>{const e=localStorage.getItem("theme")||"dark";t(e)})())),s.addEventListener("click",(()=>"dark"===localStorage.getItem("theme")?t("light"):t("dark")))})();